{"ast":null,"code":"import axios from 'axios';\nimport { base_url } from '../constant';\nexport const placeOrder = (token, subtotal) => async (dispatch, getState) => {\n  dispatch({\n    type: 'PLACE_ORDER_REQUEST'\n  });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n  try {\n    const response = await axios.post(`${base_url}/api/orders/placeorder`, {\n      token,\n      subtotal,\n      currentUser,\n      cartItems\n    });\n    dispatch({\n      type: 'PLACE_ORDER_SUCCESS'\n    });\n    console.log(response);\n  } catch (error) {\n    dispatch({\n      type: 'PLACE_ORDER_FAILED'\n    });\n    console.log(error);\n  }\n};\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: 'GET_USER_ORDERS_REQUEST'\n  });\n  try {\n    const response = await axios.post(`${base_url}/api/orders/getuserorders`, {\n      userid: currentUser._id\n    });\n    console.log(response);\n    dispatch({\n      type: \"GET_USER_ORDERS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_USER_ORDERS_FAILED',\n      payload: error\n    });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  //const currentUser=getState().loginUserReducer.currentUser\n\n  dispatch({\n    type: 'GET_ALLORDERS_REQUEST'\n  });\n  try {\n    const response = await axios.get(`${base_url}/api/orders/getallorders`);\n    console.log(response);\n    dispatch({\n      type: \"GET_ALLORDERS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_ALLORDERS_FAILED',\n      payload: error\n    });\n  }\n};\nexport const deliverOrder = orderid => async dispatch => {\n  try {\n    const response = await axios.post(`${base_url}/api/orders/deliverorder`, {\n      orderid\n    });\n    console.log(response);\n    alert('Order Delivered');\n    const orders = await axios.get(`${base_url}/api/orders/getallorders`);\n    dispatch({\n      type: 'GET_ALLORDERS_SUCCESS',\n      payload: orders.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["axios","base_url","placeOrder","token","subtotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","response","post","console","log","error","getUserOrders","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders"],"sources":["C:/Users/coder/Desktop/Saideep/To Prashant/client/src/actions/orderActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport { base_url } from '../constant';\r\n\r\nexport const placeOrder=(token,subtotal)=>async (dispatch, getState)=>{\r\n    dispatch({type:'PLACE_ORDER_REQUEST'})\r\n    const currentUser=getState().loginUserReducer.currentUser\r\n    const cartItems=getState().cartReducer.cartItems\r\n\r\n    try{\r\n         const response=await axios.post(`${base_url}/api/orders/placeorder`, {token , subtotal , currentUser , cartItems})\r\n         dispatch({type:'PLACE_ORDER_SUCCESS'})\r\n         console.log(response);\r\n\r\n    }catch(error) {\r\n        dispatch({type:'PLACE_ORDER_FAILED'})\r\n           console.log(error);\r\n    }\r\n}\r\n\r\nexport const getUserOrders=()=>async (dispatch,getState)=>{\r\n\r\n    const currentUser=getState().loginUserReducer.currentUser\r\n\r\n    dispatch({type:'GET_USER_ORDERS_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.post(`${base_url}/api/orders/getuserorders`,{userid : currentUser._id})\r\n           console.log(response)\r\n           dispatch({type:\"GET_USER_ORDERS_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_USER_ORDERS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const getAllOrders=()=>async (dispatch,getState)=>{\r\n\r\n    //const currentUser=getState().loginUserReducer.currentUser\r\n\r\n    dispatch({type:'GET_ALLORDERS_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.get(`${base_url}/api/orders/getallorders`)\r\n           console.log(response)\r\n           dispatch({type:\"GET_ALLORDERS_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_ALLORDERS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const deliverOrder=(orderid)=> async dispatch=>{\r\n\r\n    try {\r\n         const response= await axios.post(`${base_url}/api/orders/deliverorder` , {orderid})\r\n         console.log(response)\r\n         alert('Order Delivered')\r\n         const orders= await axios.get(`${base_url}/api/orders/getallorders`)\r\n         dispatch({type: 'GET_ALLORDERS_SUCCESS' , payload:orders.data})\r\n    } catch(error) {\r\n     console.log(error)\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}