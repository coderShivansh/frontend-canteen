{"ast":null,"code":"import axios from'axios';import{base_url}from'../constant';export const getAllFoods=()=>async dispatch=>{dispatch({type:'GET_FOODS_REQUEST'});try{const response=await axios.get(\"\".concat(base_url,\"/api/foods/getallfoods\"));console.log(response);dispatch({type:\"GET_FOODS_SUCCESS\",payload:response.data});}catch(error){dispatch({type:'GET_FOODS_FAILED',payload:error});}};export const filterFoods=(searchkey,category)=>async dispatch=>{var filteredFoods;dispatch({type:'GET_FOODS_REQUEST'});try{const response=await axios.get(\"/api/foods/getallfoods\");filteredFoods=response.data.filter(food=>food.name.toLowerCase().includes(searchkey));if(category!=='all'){filteredFoods=response.data.filter(food=>food.category.toLowerCase()===category);}dispatch({type:\"GET_FOODS_SUCCESS\",payload:filteredFoods});}catch(error){dispatch({type:'GET_FOODS_FAILED',payload:error});}};export const addFood=food=>async dispatch=>{dispatch({type:'ADD_FOOD_REQUEST'});try{const response=await axios.post(\"\".concat(base_url,\"/api/foods/addfood\"),{food});console.log(response);dispatch({type:'ADD_FOOD_SUCCESS'});}catch(error){dispatch({type:'ADD_FOOD_FAILED',payload:error});}};export const getFoodById=foodid=>async dispatch=>{dispatch({type:'GET_FOODBYID_REQUEST'});try{const response=await axios.post(\"\".concat(base_url,\"/api/foods/getfoodbyid\"),{foodid});console.log(response);dispatch({type:\"GET_FOODBYID_SUCCESS\",payload:response.data});}catch(error){dispatch({type:'GET_FOODBTID_FAILED',payload:error});}};export const editFood=updatedfood=>async dispatch=>{dispatch({type:'EDIT_FOOD_REQUEST'});try{const response=await axios.post(\"\".concat(base_url,\"/api/foods/editfood\"),{updatedfood});console.log(response);dispatch({type:'EDIT_FOOD_SUCCESS'});window.location.href='/admin/foodslist';}catch(error){dispatch({type:'EDIT_FOOD_FAILED',payload:error});}};export const deleteFood=foodid=>async dispatch=>{try{const response=await axios.post(\"\".concat(base_url,\"/api/foods/deletefood\"),{foodid});alert('Food Deleted Successfully .. !!');console.log(response);window.location.reload();}catch(error){alert('Something went Wrong');console.log(error);}};","map":{"version":3,"names":["axios","base_url","getAllFoods","dispatch","type","response","get","concat","console","log","payload","data","error","filterFoods","searchkey","category","filteredFoods","filter","food","name","toLowerCase","includes","addFood","post","getFoodById","foodid","editFood","updatedfood","window","location","href","deleteFood","alert","reload"],"sources":["C:/Users/coder/Desktop/Saideep/To Prashant/client/src/actions/foodAction.js"],"sourcesContent":["import axios from 'axios';\r\nimport { base_url } from '../constant';\r\n\r\nexport const getAllFoods=()=>async dispatch=>{\r\n    dispatch({type:'GET_FOODS_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.get(`${base_url}/api/foods/getallfoods`)\r\n           console.log(response)\r\n           dispatch({type:\"GET_FOODS_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_FOODS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const filterFoods=(searchkey , category)=>async dispatch=>{\r\n\r\n    var filteredFoods;\r\n    dispatch({type:'GET_FOODS_REQUEST'})\r\n\r\n    try{\r\n           const response= await axios.get(`/api/foods/getallfoods`)\r\n           filteredFoods = response.data.filter(food=>food.name.toLowerCase().includes(searchkey))\r\n\r\n           if(category !=='all')\r\n           {\r\n            filteredFoods = response.data.filter(food=>food.category.toLowerCase() === category)\r\n           }\r\n\r\n           dispatch({type:\"GET_FOODS_SUCCESS\", payload : filteredFoods})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_FOODS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const addFood=(food)=>async dispatch=>{\r\n    dispatch({type : 'ADD_FOOD_REQUEST'})\r\n\r\n    try {\r\n          const response= await axios.post(`${base_url}/api/foods/addfood`,{food})\r\n          console.log(response)\r\n          dispatch({type: 'ADD_FOOD_SUCCESS'})\r\n    } catch(error){\r\n             dispatch({type:'ADD_FOOD_FAILED', payload : error })\r\n    }\r\n}\r\n\r\n\r\nexport const getFoodById=(foodid)=>async dispatch=>{\r\n    dispatch({type:'GET_FOODBYID_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.post(`${base_url}/api/foods/getfoodbyid` , {foodid} )\r\n           console.log(response)\r\n           dispatch({type:\"GET_FOODBYID_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_FOODBTID_FAILED', payload:error})\r\n    }\r\n}\r\n\r\n\r\nexport const editFood=(updatedfood)=>async dispatch=>{\r\n    dispatch({type : 'EDIT_FOOD_REQUEST'})\r\n\r\n    try {\r\n          const response= await axios.post(`${base_url}/api/foods/editfood`,{updatedfood})\r\n          console.log(response)\r\n          dispatch({type: 'EDIT_FOOD_SUCCESS'})\r\n          window.location.href='/admin/foodslist'\r\n    } catch(error){\r\n             dispatch({type:'EDIT_FOOD_FAILED', payload : error })\r\n    }\r\n}\r\n\r\nexport const deleteFood=(foodid)=> async dispatch=>{\r\n\r\n    try {\r\n       const response=  await axios.post(`${base_url}/api/foods/deletefood`, {foodid})\r\n       alert('Food Deleted Successfully .. !!')\r\n       console.log(response)\r\n       window.location.reload()\r\n    } catch (error) {\r\n           alert('Something went Wrong')\r\n           console.log(error)\r\n    }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}