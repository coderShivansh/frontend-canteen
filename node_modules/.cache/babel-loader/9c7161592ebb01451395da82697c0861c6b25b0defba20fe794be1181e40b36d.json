{"ast":null,"code":"import axios from'axios';import{base_url}from'../constant';export const placeOrder=(token,subtotal)=>async(dispatch,getState)=>{dispatch({type:'PLACE_ORDER_REQUEST'});const currentUser=getState().loginUserReducer.currentUser;const cartItems=getState().cartReducer.cartItems;try{const response=await axios.post(\"\".concat(base_url,\"/api/orders/placeorder\"),{token,subtotal,currentUser,cartItems});dispatch({type:'PLACE_ORDER_SUCCESS'});console.log(response);}catch(error){dispatch({type:'PLACE_ORDER_FAILED'});console.log(error);}};export const getUserOrders=()=>async(dispatch,getState)=>{const currentUser=getState().loginUserReducer.currentUser;dispatch({type:'GET_USER_ORDERS_REQUEST'});try{const response=await axios.post(\"\".concat(base_url,\"/api/orders/getuserorders\"),{userid:currentUser._id});console.log(response);dispatch({type:\"GET_USER_ORDERS_SUCCESS\",payload:response.data});}catch(error){dispatch({type:'GET_USER_ORDERS_FAILED',payload:error});}};export const getAllOrders=()=>async(dispatch,getState)=>{//const currentUser=getState().loginUserReducer.currentUser\ndispatch({type:'GET_ALLORDERS_REQUEST'});try{const response=await axios.get(\"\".concat(base_url,\"/api/orders/getallorders\"));console.log(response);dispatch({type:\"GET_ALLORDERS_SUCCESS\",payload:response.data});}catch(error){dispatch({type:'GET_ALLORDERS_FAILED',payload:error});}};export const deliverOrder=orderid=>async dispatch=>{try{const response=await axios.post(\"\".concat(base_url,\"/api/orders/deliverorder\"),{orderid});console.log(response);alert('Order Delivered');const orders=await axios.get(\"\".concat(base_url,\"/api/orders/getallorders\"));dispatch({type:'GET_ALLORDERS_SUCCESS',payload:orders.data});}catch(error){console.log(error);}};","map":{"version":3,"names":["axios","base_url","placeOrder","token","subtotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","response","post","concat","console","log","error","getUserOrders","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders"],"sources":["C:/Users/coder/Desktop/Saideep/To Prashant/client/src/actions/orderActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport { base_url } from '../constant';\r\n\r\nexport const placeOrder=(token,subtotal)=>async (dispatch, getState)=>{\r\n    dispatch({type:'PLACE_ORDER_REQUEST'})\r\n    const currentUser=getState().loginUserReducer.currentUser\r\n    const cartItems=getState().cartReducer.cartItems\r\n\r\n    try{\r\n         const response=await axios.post(`${base_url}/api/orders/placeorder`, {token , subtotal , currentUser , cartItems})\r\n         dispatch({type:'PLACE_ORDER_SUCCESS'})\r\n         console.log(response);\r\n\r\n    }catch(error) {\r\n        dispatch({type:'PLACE_ORDER_FAILED'})\r\n           console.log(error);\r\n    }\r\n}\r\n\r\nexport const getUserOrders=()=>async (dispatch,getState)=>{\r\n\r\n    const currentUser=getState().loginUserReducer.currentUser\r\n\r\n    dispatch({type:'GET_USER_ORDERS_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.post(`${base_url}/api/orders/getuserorders`,{userid : currentUser._id})\r\n           console.log(response)\r\n           dispatch({type:\"GET_USER_ORDERS_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_USER_ORDERS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const getAllOrders=()=>async (dispatch,getState)=>{\r\n\r\n    //const currentUser=getState().loginUserReducer.currentUser\r\n\r\n    dispatch({type:'GET_ALLORDERS_REQUEST'})\r\n\r\n    try{\r\n           const response=await axios.get(`${base_url}/api/orders/getallorders`)\r\n           console.log(response)\r\n           dispatch({type:\"GET_ALLORDERS_SUCCESS\", payload : response.data})\r\n    }\r\n    catch (error){\r\n            dispatch({type:'GET_ALLORDERS_FAILED', payload:error})\r\n    }\r\n}\r\n\r\nexport const deliverOrder=(orderid)=> async dispatch=>{\r\n\r\n    try {\r\n         const response= await axios.post(`${base_url}/api/orders/deliverorder` , {orderid})\r\n         console.log(response)\r\n         alert('Order Delivered')\r\n         const orders= await axios.get(`${base_url}/api/orders/getallorders`)\r\n         dispatch({type: 'GET_ALLORDERS_SUCCESS' , payload:orders.data})\r\n    } catch(error) {\r\n     console.log(error)\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}