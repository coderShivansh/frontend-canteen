{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{editFood,getFoodById}from'../actions/foodAction';import Loading from'../components/Loading';import Error from'../components/Error';import Filter from'../components/Filter';import Success from'../components/Success';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Editfood(){const{foodid}=useParams();const dispatch=useDispatch();const[name,setname]=useState('');const[smallprice,setsmallprice]=useState();const[mediumprice,setmediumprice]=useState();const[largeprice,setlargeprice]=useState();const[naprice,setnaprice]=useState();const[image,setimage]=useState('');const[description,setdescription]=useState('');const[category,setcategory]=useState('');const getfoodbyidstate=useSelector(state=>state.getFoodByIdReducer);const{food,error,loading}=getfoodbyidstate;const editfoodstate=useSelector(state=>state.editFoodReducer);const{editloading,editerror,editsuccess}=editfoodstate;useEffect(()=>{if(food){if(food._id===foodid){setname(food.name);setdescription(food.description);setcategory(food.category);setimage(food.image);setnaprice(food.prices[0]['NA']);setsmallprice(food.prices[0][food.varients[0]]);setmediumprice(food.prices[0][food.varients[1]]);setlargeprice(food.prices[0][food.varients[2]]);}else{dispatch(getFoodById(foodid));}}else{dispatch(getFoodById(foodid));}},[food,dispatch]);function formHandler(e){e.preventDefault();const updatedfood={_id:foodid,name,image,description,category,prices:{small:smallprice,medium:mediumprice,large:largeprice,NA:naprice}};dispatch(editFood(updatedfood));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},className:\"shadow-lg p-3 mb-5 bg-white rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Dish\"}),loading&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(Error,{error:\"Something went Wrong\"}),editsuccess&&/*#__PURE__*/_jsx(Success,{success:\"Dish Edited Successfully!!\"}),editloading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formHandler,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"name\",value:name,onChange:e=>{setname(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"small/first varient price\",value:smallprice,onChange:e=>{setsmallprice(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"medium/second varient price\",value:mediumprice,onChange:e=>{setmediumprice(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"large/third varient price\",value:largeprice,onChange:e=>{setlargeprice(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"default/NA varient price to be 0 mandatory\",value:naprice,onChange:e=>{setnaprice(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"description\",value:description,onChange:e=>{setdescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"category\",value:category,onChange:e=>{setcategory(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"image URL\",value:image,onChange:e=>{setimage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mt-3\",type:\"submit\",children:\"Edit Dish\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useDispatch","useSelector","editFood","getFoodById","Loading","Error","Filter","Success","jsx","_jsx","jsxs","_jsxs","Editfood","foodid","dispatch","name","setname","smallprice","setsmallprice","mediumprice","setmediumprice","largeprice","setlargeprice","naprice","setnaprice","image","setimage","description","setdescription","category","setcategory","getfoodbyidstate","state","getFoodByIdReducer","food","error","loading","editfoodstate","editFoodReducer","editloading","editerror","editsuccess","_id","prices","varients","formHandler","e","preventDefault","updatedfood","small","medium","large","NA","children","style","textAlign","className","success","onSubmit","type","placeholder","value","onChange","target"],"sources":["C:/Users/coder/Desktop/Saideep/To Prashant/client/src/screens/Editfood.js"],"sourcesContent":["import React ,{useState,useEffect} from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { editFood, getFoodById } from '../actions/foodAction';\r\nimport Loading from '../components/Loading'\r\nimport Error from '../components/Error'\r\nimport Filter from '../components/Filter'\r\nimport Success from '../components/Success'\r\n\r\nexport default function Editfood() {\r\n\r\n    const { foodid } = useParams();\r\n    const dispatch =useDispatch()\r\n\r\n    const [name,setname]= useState('')\r\n    const [smallprice, setsmallprice]= useState()\r\n    const [mediumprice , setmediumprice] =useState()\r\n    const [largeprice , setlargeprice] = useState()\r\n    const [naprice,setnaprice] =useState()\r\n    const [image , setimage]=useState('')\r\n    const [description , setdescription]=useState('')\r\n    const [category, setcategory] =useState('')\r\n\r\n    const getfoodbyidstate = useSelector(state=> state.getFoodByIdReducer)\r\n    const {food , error, loading} =getfoodbyidstate\r\n\r\n    const editfoodstate = useSelector((state)=> state.editFoodReducer)\r\n\r\n    const {editloading , editerror , editsuccess} = editfoodstate\r\n\r\n    useEffect(()=>{\r\n        if(food)\r\n        {\r\n            if(food._id=== foodid)\r\n            {\r\n                setname(food.name)\r\n                setdescription(food.description)\r\n                setcategory(food.category)\r\n                setimage(food.image)\r\n                setnaprice(food.prices[0]['NA'])\r\n                setsmallprice(food.prices[0][food.varients[0]])\r\n                setmediumprice(food.prices[0][food.varients[1]])\r\n                setlargeprice(food.prices[0][food.varients[2]])\r\n            }\r\n            else\r\n            {\r\n                dispatch(getFoodById(foodid))\r\n            }\r\n        }\r\n        else {\r\n            dispatch(getFoodById(foodid))\r\n        }\r\n        \r\n    },[food , dispatch ])\r\n\r\n    function formHandler(e){\r\n\r\n        e.preventDefault();\r\n        const updatedfood={\r\n            _id: foodid,\r\n          name,\r\n          image,\r\n          description,\r\n          category,\r\n          prices:{\r\n            small: smallprice,\r\n            medium: mediumprice,\r\n            large : largeprice,\r\n            NA : naprice\r\n          }\r\n        }\r\n        \r\n        dispatch(editFood(updatedfood))\r\n      }\r\n\r\n\r\n  return (\r\n    <div>\r\n      \r\n      \r\n      <div style={{textAlign:'left'}} className='shadow-lg p-3 mb-5 bg-white rounded'>\r\n      <h1>Edit Dish</h1>\r\n      {loading && (<Loading/>)}\r\n         {error && (<Error error='Something went Wrong'/>)}\r\n         \r\n      {editsuccess && (<Success success='Dish Edited Successfully!!'/>)}\r\n      {editloading && (<Loading />)}\r\n        \r\n\r\n         <form onSubmit={formHandler}>\r\n          <input type=\"text\" className='form-control' placeholder=\"name\" value={name} onChange={(e)=>{setname(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"small/first varient price\" value={smallprice} onChange={(e)=>{setsmallprice(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"medium/second varient price\" value={mediumprice} onChange={(e)=>{setmediumprice(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"large/third varient price\" value={largeprice} onChange={(e)=>{setlargeprice(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"default/NA varient price to be 0 mandatory\" value={naprice} onChange={(e)=>{setnaprice(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"description\" value={description} onChange={(e)=>{setdescription(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"category\" value={category} onChange={(e)=>{setcategory(e.target.value)}}/>\r\n          <input type=\"text\" className='form-control' placeholder=\"image URL\" value={image} onChange={(e)=>{setimage(e.target.value)}}/>\r\n          <button className='btn mt-3'  type='submit'>Edit Dish</button>\r\n         </form>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}